<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">
  <title>Crypto bookmarklet</title>
  <script src="crypto-bookmarklet.js"></script>
  <script>
    function go() {
      window.password = document.getElementById('password').value;
      window.code     = document.getElementById('code').value;
      get_key()
      .then(encrypt)
      .then(() => document.getElementById('result').value = generate())
      .then(() => document.getElementById('generate').disabled = true);
    };
  </script>
</head>
<body>
<div class="pure-form pure-form-stacked">
  <input id="password" type="password" placeholder="Enter Password">
  <textarea id="code" autocomplete="off" placeholder="Enter javascript"></textarea>
  <button id="generate" onclick="go();" autocomplete="off" class="pure-button pure-button-primary">generate bookmarklet</button>
  <textarea id="result" autocomplete="off" readonly></textarea>
</div>
</body>
</html>
